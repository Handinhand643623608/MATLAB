function paramStruct = a_regress_globalEEG

%% Initialize the EEG Global Signal Regression Parameters
load masterStructs.mat;
paramStruct.globalRegression.EEG = struct(...
    'subjects', [paramStruct.general.subjects],...
    'scans', {paramStruct.general.scans},...
    'maxClusters', 5,...
    'clusterMethod', 'hierarchical',...
    'averageFlag', 1,...
    'visibleFigs', 'off',...
    'comments', 'For publication: EEG Global Signal Regression from DC Recordings');

fileStruct.analysis.globalRegression.EEG = struct(...
    'eegDataFile', [fileStruct.paths.MAT_files '\EEG\eegData_dc.mat'],...
    'savePathData', [fileStruct.paths.MAT_files '\EEG'],...
    'savePathImage', [fileStruct.paths.analyses '\Global Regression\EEG'],...
    'saveID', '20130117',...
    'saveTag', 'dcGR');


%% Initialize the EEG Global Signal-BOLD Cross-Correlation Analysis Parameters
paramStruct.xcorr.globSig_BOLD = struct(...
    'subjects', [paramStruct.general.subjects],...
    'scans', {paramStruct.general.scans},...
    'visibleFigs', 'off',...
    'shiftsTime', [-20:2:20],...
    'shiftsToImage', [1:3:16],...
    'slicesToImage', [48:4:64],...
    'alphaVal', 0.05,...
    'parallelPVals', false,...
    'parallelSwitch', false,...
    'singleSubjectFlag', true,...
    'comments', 'For publication: EEG Global Signal Regression from DC Recordings');

fileStruct.analysis.xcorr.globSig_BOLD = struct(...
    'eegDataFile', [fileStruct.paths.MAT_files '\EEG\eegData_dcGR_20130117.mat'],...
    'boldDataPath', [fileStruct.paths.MAT_files '\BOLD'],...
    'savePathData', [fileStruct.paths.MAT_files '\xcorr'],...
    'savePathImage', [fileStruct.paths.analyses '\Global Regression\Global-BOLD\Five Pct Alpha'],...
    'saveID', '20130117');

save(fileStruct.files.masterStructs, 'fileStruct', 'paramStruct')


%% Identify & Regress the EEG Global Signals, then Image the Difference in EEG Inter-Electrode Correlations
% Generate EEG data with cluster signal removal
ar_globalRegression(fileStruct, paramStruct);

% Image the correlations
paramStruct = ai_corrEEG(fileStruct, paramStruct);


%% Analyze How the Global Signal Relates to BOLD
% Cross-correlate the global EEG signal with BOLD
arx_realGB(fileStruct, paramStruct);

% Generate a null distribution of correlation for bootstrapping
arx_nullGB(fileStruct, paramStruct);

% Average the data together to reduce data set size
ara_corrGB(fileStruct, paramStruct);

% Bootstrap the correlations
ar_bootstrap_GB(fileStruct, paramStruct);

% Image the correlations
ai_corrGB(fileStruct, paramStruct);